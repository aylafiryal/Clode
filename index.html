<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.6.2/joint.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="style-index.css">
    <link href="thumb.png" rel='shorcut icon'>
    <title>Workspace</title>
</head>
<body>
    <!-- content -->
    <div class="main" id="myholder"></div>
    <div class="left">
        <h2>Classes</h2>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#create_class" value="class" id="class">
            Class
        </button>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#create_class" value="abstract" id="abstract">
            Abstract
        </button>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#create_class_interface" value="interface" id="interface">
            Interface
        </button>
        <h2>Relation</h2>
        <button type="button" class="btn btn-primary" onclick='relasi("Aso")'>
            Association
        </button>
        <button type="button" class="btn btn-primary" onclick='relasi("Agr")'>
            Aggregation
        </button>
        <button type="button" class="btn btn-primary" onclick='relasi("Comp")'>
            Composition
        </button>
        <button type="button" class="btn btn-primary" onclick='relasi("Gen")'>
            Generalization
        </button>
        <button type="button" class="btn btn-primary" onclick='relasi("Dep")'>
            Dependency
        </button>
        <button type="button" class="btn btn-primary" onclick='relasi("Imp")'>
            Implementation
        </button>
    </div>
    <div class="top">
        <img src="logoX.png" style="width:252px;height:75px;"><br><br>
        <button type="button" class="btn btn-primary" onclick="about()">Tutorial</button>
        <!-- <button id="download" type="button" class="btn btn-success" data-toggle="modal" data-target="#d_tr">Generate JAVA</button>
        <button id="image" type="button" class="btn btn-success" data-toggle="modal" data-target="#d_ex">Save as PNG</button> -->
        <button id="download" type="button" class="btn btn-success">Generate JAVA</button>
        <button id="image" type="button" class="btn btn-success">Save as PNG</button>
    </div>

    <!-- Modal create_class-->
    <div class="modal fade" id="create_class" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Tambah kelas</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="form-kelas">
                        <div class="form-group" id="df">
                          <label for="nama_kelas" class="col-form-label">Nama class:</label>
                          <input type="text" class="form-control" id="nama_kelas" required><br>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Batal</button>
                    <button id="submit" type="button" class="btn btn-primary" data-dismiss="modal" onclick="validateAndProceed()">Selanjutnya</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal untuk interface -->
    <div class="modal fade" id="create_class_interface" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Tambah kelas</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="form-interface">
                        <div class="form-group" id="df">
                          <label for="nama_kelas_interface" class="col-form-label">Nama class:</label>
                          <input type="text" class="form-control" id="nama_kelas_interface"><br>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="$('#create_meth').modal();">Selanjutnya</button>
                </div>
            </div>
        </div>
    </div>

        <!-- (3) Modal create_atr-->
        <div class="modal fade" id="create_atr" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Tambah Atribut</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="form-atr">
                            <div class="form-group" id="df2">
                                <label for="modifierAtribut1" class="col-form-label">Visibilitas:</label>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="modifierAtribut1" id="public" value="public">
                                    <label class="form-check-label" for="inlineRadio1">Public</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="modifierAtribut1" id="private" value="private">
                                    <label class="form-check-label" for="inlineRadio1">Private</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="modifierAtribut1" id="protected" value="protected">
                                    <label class="form-check-label" for="inlineRadio1">Protected</label>
                                </div><br>
                                <label for="atribut[]" class="col-form-label">Nama atribut:</label>
                                <input type="text" class="form-control" name="atribut[]" onblur="validateForm()">
                                <label for="atribut_td[]" class="col-form-label">Tipe data:</label>
                                <input type="text" class="form-control" name="atribut_td[]"><br>
                                <button id = "tambah_atr" type="button" class="btn btn-success tambah_atr">Tambah atribut</button>
                                <hr>
                            </div>
                            <div class="form-group" id="inputs">
    
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button id = "cls" type="button" class="btn btn-secondary" data-dismiss="modal"data-toggle="modal" data-target="#create_class">Kembali</button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal" id="btn-modal2" onclick="validateInputAndOpenModal()">Selanjutnya</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal create_meth-->
        <div class="modal fade" id="create_meth" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Tambah Method</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="form-meth">
                            <div class="form-group" id="df3">
                                <label for="modifierMethod1" class="col-form-label">Visibilitas:</label>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="modifierMethod1" id="public" value="public">
                                    <label class="form-check-label" for="inlineRadio1">Public</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="modifierMethod1" id="private" value="private">
                                    <label class="form-check-label" for="inlineRadio1">Private</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="modifierMethod1" id="protected" value="protected">
                                    <label class="form-check-label" for="inlineRadio1">Protected</label>
                                </div><br>
                              <label for="method[]" class="col-form-label">Nama method(parameter):</label>
                              <input type="text" class="form-control" name="method[]">
                              <label for="method_td[]" class="col-form-label">Return data:</label>
                              <input type="text" class="form-control" name="method_td[]"><br>
                              <button id = "tambah_meth" type="button" class="btn btn-success tambah_atr">Tambah method</button>                              
                              <hr>
                            </div>
                            <div class="form-group" id="inputs2">

                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button id = "cls" type="button" class="btn btn-secondary" data-dismiss="modal" data-toggle="modal" data-target="#create_atr">Kembali</button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal" id = "btn-modal3" onclick="nopal()">Buat kelas</button>
                    </div>
                </div>
            </div>
        </div>

    <!-- edit modal -->
    <div class="modal fade" id="modalEdit" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Edit</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body d-flex flex-column align-items-center">
                    <button id="b_editName" type="button" class="btn btn-primary w-100">Edit nama</button><br>
                    <button id="b_editAtr" type="button" class="btn btn-primary w-100">Edit atribut</button><br>
                    <button id="b_editMeth" type="button" class="btn btn-primary w-100">Edit method</button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- edit -->
    <div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Edit</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="arrayForm">
                        <div class="form-group" id="list"></div>
                        <div class="form-edit" id="inputs3"></div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" data-toggle="modal" data-target="#modalEdit">Close</button>
                    <button id = "saveData" type="button" class="btn btn-primary"  data-dismiss="modal">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- edit nama -->
    <div class="modal fade" id="edit_name" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Edit nama</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="form-kelas">
                        <div class="form-group" id="df">
                          <input type="text" class="form-control" id="new_name" required><br>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Batal</button>
                    <button id = "saveNewName" type="button" class="btn btn-primary"  data-dismiss="modal">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- download translate -->
    <div class="modal fade" id="d_tr" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <!-- <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Translate Success</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div> -->
                <div class="modal-body">
                    <h2>Translate Success</h2>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- download image -->
    <div class="modal fade" id="d_ex" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <!-- <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Translate Success</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div> -->
                <div class="modal-body">
                    <h2>Export Success</h2>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- download both -->
    <div class="modal fade" id="d_both" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <!-- <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Translate Success</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div> -->
                <div class="modal-body">
                    <h2>Translate Success</h2>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.4.1/backbone.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.6.5/joint.js"></script>
    <script type="text/javascript" src="jszip.js"></script>
    <script type="text/javascript" src="jszip.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="operate.js"></script>

    <!-- Optional JavaScript; choose one of the two! -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>

    <script>
        function validateAndProceed() {
            const namaKelasInput = document.getElementById("nama_kelas");
            const namaKelasValue = namaKelasInput.value.trim();

            if (namaKelasValue === "") {
                // Jika input kosong, munculkan pesan kesalahan atau tindakan lainnya
                alert("Mohon isi nama kelas terlebih dahulu.");
            } else {
                // Jika input diisi, buka modal
                $('#create_atr').modal();
            }
        }
        function validateForm() {
            const atributInput = document.getElementsByName("atribut[]")[0];
            const atributTdInput = document.getElementsByName("atribut_td[]")[0];

            if (atributInput.value.trim() !== "") {
                atributTdInput.required = true;
            } else {
                atributTdInput.required = false;
            }
        }

        function validateInputAndOpenModal() {
            const atributInput = document.getElementsByName("atribut[]")[0];
            const atributTdInput = document.getElementsByName("atribut_td[]")[0];

            if (atributInput.value.trim() !== "" && atributTdInput.value.trim() === "") {
                alert("Mohon isi atribut_td terlebih dahulu.");
            } else {
                $('#create_meth').modal();
            }
        }

    </script>
</body>
</html>